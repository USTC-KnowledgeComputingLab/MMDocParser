# MMDocParser

ä¸€ä¸ªä¸“ä¸šçš„æ–‡æ¡£è§£ææœåŠ¡ï¼Œæ”¯æŒæå–æ–‡æ¡£ä¸­çš„æ–‡å­—ã€å›¾ç‰‡ã€è¡¨æ ¼ã€å…¬å¼ç­‰ä¿¡æ¯ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **å¼‚æ­¥å¤„ç†**ï¼šåŸºäºSanicçš„é«˜æ€§èƒ½å¼‚æ­¥Webæ¡†æ¶
- ğŸ“ **å¤šæ ¼å¼æ”¯æŒ**ï¼šPDFã€DOCXã€XLSXç­‰
- ğŸ”„ **ä»»åŠ¡é˜Ÿåˆ—**ï¼šRedisä»»åŠ¡é˜Ÿåˆ—ï¼Œæ”¯æŒå¼‚æ­¥å¤„ç†
- â˜ï¸ **äº‘å­˜å‚¨**ï¼šS3å…¼å®¹å­˜å‚¨ï¼Œæ”¯æŒå¤§æ–‡ä»¶
- ğŸ“Š **çŠ¶æ€è·Ÿè¸ª**ï¼šå®æ—¶æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€å’Œç»“æœ
- ğŸ¥ **å¥åº·æ£€æŸ¥**ï¼šæœåŠ¡å¥åº·çŠ¶æ€ç›‘æ§


## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Python 3.12+
- Redis 6.0+
- S3å…¼å®¹å­˜å‚¨ï¼ˆMinIO/AWS S3ï¼‰

### 2. å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨uvå®‰è£…
uv sync
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.template .env

# ç¼–è¾‘é…ç½®
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# æ–¹å¼1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
python run.py

# æ–¹å¼2ï¼šç›´æ¥è¿è¡Œ
sanic main:app --host 0.0.0.0 --port 8000 --workers 4
```

## APIæ¥å£

### 1. ä¸Šä¼ æ–‡æ¡£

```http
POST /api/v1/documents/upload
Content-Type: application/json

{
  "files": [
    {
      "name": "document.pdf",
      "content": "base64ç¼–ç çš„æ–‡ä»¶å†…å®¹"
    }
  ]
}
```

### 2. æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€

```http
GET /api/v1/tasks/{task_id}/status
```

### 3. è·å–è§£æç»“æœ

```http
GET /api/v1/tasks/{task_id}/result
```

### 4. å¥åº·æ£€æŸ¥

```http
GET /health
```

## é¡¹ç›®ç»“æ„

```
MMDocParser/
â”œâ”€â”€ main.py                 # ä¸»åº”ç”¨æ–‡ä»¶
â”œâ”€â”€ run.py                  # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ config.py               # é…ç½®ç®¡ç†
â”œâ”€â”€ storage/                # å­˜å‚¨ç›¸å…³
â”‚   â”œâ”€â”€ s3_client.py       # S3å®¢æˆ·ç«¯
â”‚   â””â”€â”€ redis_client.py    # Rediså®¢æˆ·ç«¯
â”œâ”€â”€ parsers/                # æ–‡æ¡£è§£æå™¨
â”‚   â””â”€â”€ document_parser.py # è§£æå™¨åŸºç±»å’Œå®ç°
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ validators.py      # éªŒè¯å·¥å…·
â””â”€â”€ pyproject.toml         # é¡¹ç›®é…ç½®
```

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„æ–‡æ¡£æ ¼å¼æ”¯æŒ

1. åœ¨ `parsers/document_parser.py` ä¸­åˆ›å»ºæ–°çš„è§£æå™¨ç±»
2. ç»§æ‰¿ `DocumentParser` åŸºç±»
3. å®ç° `parse()` å’Œ `can_parse()` æ–¹æ³•
4. åœ¨ `DocumentParserFactory` ä¸­æ³¨å†Œæ–°è§£æå™¨

## éƒ¨ç½²

### Dockeréƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒé…ç½®

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

